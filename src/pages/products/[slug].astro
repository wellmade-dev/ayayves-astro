---
import { fetchProducts } from "../../scripts/fetch";
import Layout from "../../layouts/Layout.astro";
import CarouselSection from "../../components/sections/CarouselSection.astro";
import ProductSlider from "../../components/atoms/carousels/ProductSlider.astro";

export async function getStaticPaths() {
  const products = await fetchProducts();
  return products.map((product) => ({
    params: { slug: product.slug },
    props: product,
  }));
}

const product = Astro.props;
---

<Layout title={product.name}>
  <CarouselSection title="Bundle Me" subtitle="Related">
    <ProductSlider />
  </CarouselSection>
</Layout>
